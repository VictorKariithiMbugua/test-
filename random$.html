<!DOCTYPE html>
<html>
<head>
    <title>God who is that, god?</title> 
    <link id="favicon" rel="icon" type="image/png" href="">

    <script>
        function setRandomFavicon() {
            const canvas = document.createElement("canvas");
            canvas.width = 64;  // favicon size
            canvas.height = 64;
            const ctx = canvas.getContext("2d");

            // random background color (shade)
            const shades = ["#00ff00", "#009900", "#33cc33", "#006600", "#00cc99"];
            const bgColor = shades[Math.floor(Math.random() * shades.length)];
            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // random number 0â€“9
            const num = Math.floor(Math.random() * 10);

            // draw $ + number
            ctx.font = "bold 40px Arial";
            ctx.fillStyle = "white";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("$" + num, canvas.width / 2, canvas.height / 2);

            // pixelation effect
            const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < imgData.data.length; i += 4 * 4) { 
                imgData.data[i] = imgData.data[i] & 0xF0;     // reduce color detail
                imgData.data[i+1] = imgData.data[i+1] & 0xF0;
                imgData.data[i+2] = imgData.data[i+2] & 0xF0;
            }
            ctx.putImageData(imgData, 0, 0);

            // set as favicon
            const favicon = document.getElementById("favicon");
            favicon.href = canvas.toDataURL("image/png");
        }

        // run once at start
        setRandomFavicon();

        // update every 2 seconds
        setInterval(setRandomFavicon, 2000);
    </script>
</head>
<body>
</body>
</html>
